<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div id="app">
        <my-com v-on:func="show"></my-com>
    </div>
    <template id="temp">
        <div>
            <p>这是myCom组件</p>
            <button @click="myclick">点击触发父组件中的方法</button>
        </div>
    </template>
    <script src="../vue.js"></script>
    <script>
// 父组件向子组件传递方法,要使用 v-on:func="fun" 而不是 v-bind:func="fun"
// 然后在方法中通过this.$emit('func'),来帮助父组件调用;

// - 子组件向父组件中传递数据的原理:
// 父组件向子组件中传递方法,子组件通过触发父组件中的方法向父组件中传参,
// 父组件在传递的方法中获取子组件传递的参数;
        var vm = new Vue({
            el:'#app',
            data:{
                sun:null
            },
            methods:{
                show(obj){
                    alert('这是父组件中的show方法');

                    this.sun= obj;
                }
            },
            components:{
                myCom:{
                    template:'#temp',
                    data(){
                        return {
                            obj:{
                                name: '大头儿子' ,
                                age:6
                            }
                        }
                    },
                    methods:{
                        myclick(){
                            console.log(this.obj)
                            this.$emit('func',this.obj);
                        }
                    }
                },

            }
        });


    </script>
</body>
</html>